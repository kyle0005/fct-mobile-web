"use strict";var app=new Vue({computed:{},mounted:function(){},data:{showAlert:!1,msg:null,shareList:config.share.entries,pager:config.share.pager,productsType:config.productsType,sort:config.sort,sortsel:0,categary:config.productsType[0].code,preventRepeatReuqest:!1,last_url:"",search:""},directives:{"load-more":{bind:function(e,t){var o=window.screen.height,r=void 0,s=void 0,a=void 0,n=void 0,c=void 0,i=void 0,l=void 0,u=void 0,g=e.attributes.type&&e.attributes.type.value;2==g?(l=e,u=e.children[0]):(l=document.body,u=e),e.addEventListener("touchstart",function(){r=u.clientHeight,2==g&&(r=r),s=e.offsetTop,a=tools.getStyle(e,"paddingBottom"),n=tools.getStyle(e,"marginBottom")},!1),e.addEventListener("touchmove",function(){p()},!1),e.addEventListener("touchend",function(){i=l.scrollTop,f()},!1);var f=function e(){c=requestAnimationFrame(function(){l.scrollTop!=i?(i=l.scrollTop,e()):(cancelAnimationFrame(c),r=u.clientHeight,p())})},p=function(){l.scrollTop+o>=r+s+a+n-2&&t.value()}}}},methods:{subSearch:function(){var e=this,t=config.shareUrl+"?";e.categary&&(t+="&code="+e.categary),e.sortsel&&(t+="&sort="+e.sortsel),e.search&&jAjax({type:"get",url:t,data:{keyword:e.search},timeOut:5e3,before:function(){},success:function(t){t&&(t=JSON.parse(t),200==parseInt(t.code)?(e.shareList=t.data.entries,e.pager=t.data.pager):(e.msg=t.message,e.showAlert=!0,e.close_auto()))},error:function(){}})},searchTxt:function(){var e=this;console.log(e.search)},clear:function(){this.search=""},nextPage:function(){var e=this;if(e.preventRepeatReuqest=!0,e.pager.next>0){var t=config.shareUrl+"?page="+e.pager.next;e.categary&&(t+="&code="+e.categary),e.sortsel&&(t+="&sort="+e.sortsel),t!==e.last_url&&(e.last_url=t,jAjax({type:"get",url:t,timeOut:5e3,before:function(){console.log("before")},success:function(t){t&&(t=JSON.parse(t),200==parseInt(t.code)?(e.pager=t.data.pager,e.shareList=t.data.entries.concat(e.shareList),e.preventRepeatReuqest=!1):console.log("false"))},error:function(){console.log("error")}}))}},sel:function(){var e=this,t=config.shareUrl+"?sort="+e.sortsel+"&page="+e.pager.next;e.categary&&(t+="&code="+e.categary),jAjax({type:"get",url:t,timeOut:5e3,before:function(){console.log("before")},success:function(t){t&&(t=JSON.parse(t),200==parseInt(t.code)?(e.shareList=t.data.entries,e.pager=t.data.pager):console.log("false"))},error:function(){console.log("error")}})},cate:function(){var e=this,t=config.shareUrl+"?code="+e.categary+"&page="+e.pager.next;e.sortsel&&(t+="&sort="+e.sortsel),jAjax({type:"get",url:t,timeOut:5e3,before:function(){console.log("before")},success:function(t){t&&(t=JSON.parse(t),200==parseInt(t.code)?(e.shareList=t.data.entries,e.pager=t.data.pager):console.log("false"))},error:function(){console.log("error")}})},close:function(){this.showAlert=!1},close_auto:function(e,t){var o=this;setTimeout(function(){o.showAlert=!1,e&&e(t)},1500)},linkto:function(e){e&&(location.href=e)}}}).$mount("#share");