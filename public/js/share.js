"use strict";var app=new Vue({computed:{},mounted:function(){},data:{showAlert:!1,msg:null,shareList:config.share.entries,pager:config.share.pager,productsType:config.productsType,sort:config.sort,sortsel:0,categary:config.productsType[0].code,preventRepeatReuqest:!1,last_url:"",search:"",listloading:!1},directives:{"load-more":{bind:function(e,t){var a=window.screen.height,o=void 0,r=void 0,s=void 0,n=void 0,i=void 0,c=void 0,l=void 0,u=void 0,g=e.attributes.type&&e.attributes.type.value;2==g?(l=e,u=e.children[0]):(l=document.body,u=e),e.addEventListener("touchstart",function(){o=u.clientHeight,2==g&&(o=o),r=e.offsetTop,s=tools.getStyle(e,"paddingBottom"),n=tools.getStyle(e,"marginBottom")},!1),e.addEventListener("touchmove",function(){h()},!1),e.addEventListener("touchend",function(){c=l.scrollTop,d()},!1);var d=function e(){i=requestAnimationFrame(function(){l.scrollTop!=c?(c=l.scrollTop,e()):(cancelAnimationFrame(i),o=u.clientHeight,h())})},h=function(){l.scrollTop+a>=o+r+s+n-2&&t.value()}}}},methods:{getBefore:function(){this.listloading=!0},subSearch:function(){var e=this,t=config.shareUrl+"?";e.categary&&(t+="&code="+e.categary),e.sortsel&&(t+="&sort="+e.sortsel),e.search&&tools.ajaxGet(t+"&keyword="+e.search,e.searchSuc,e.getBefore)},searchSuc:function(e){var t=this;t.shareList=e.data.entries,t.pager=e.data.pager},searchTxt:function(){var e=this;console.log(e.search)},clear:function(){this.search=""},nextPage:function(){var e=this;if(e.preventRepeatReuqest=!0,e.pager.next>0){var t=config.shareUrl+"?page="+e.pager.next;e.categary&&(t+="&code="+e.categary),e.sortsel&&(t+="&sort="+e.sortsel),t!==e.last_url&&(e.last_url=t,tools.ajaxGet(t,e.pageSucc,e.getBefore))}},pageSucc:function(e){var t=this;t.pager=e.data.pager,t.shareList=e.data.entries.concat(t.shareList),t.preventRepeatReuqest=!1,t.listloading=!1},sel:function(){var e=this,t=config.shareUrl+"?sort="+e.sortsel+"&page="+e.pager.next;e.categary&&(t+="&code="+e.categary),tools.ajaxGet(t,e.selSucc,e.getBefore)},selSucc:function(e){var t=this;t.shareList=e.data.entries,t.pager=e.data.pager,t.listloading=!1},cate:function(){var e=this,t=config.shareUrl+"?code="+e.categary+"&page="+e.pager.next;e.sortsel&&(t+="&sort="+e.sortsel),tools.ajaxGet(t,e.cateSucc,e.getBefore)},cateSucc:function(e){var t=this;t.shareList=e.data.entries,t.pager=e.data.pager,t.listloading=!1},close:function(){this.showAlert=!1},close_auto:function(e,t){var a=this;setTimeout(function(){a.showAlert=!1,e&&e(t)},1500)},linkto:function(e){e&&(location.href=e)}}}).$mount("#share");