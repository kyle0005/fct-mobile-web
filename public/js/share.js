"use strict";var app=new Vue({computed:{},mounted:function(){},data:{showAlert:!1,msg:null,shareList:config.share.entries,pager:config.share.pager,productsType:config.productsType,sort:config.sort,sortsel:0,categary:config.productsType[0].code,preventRepeatReuqest:!1,last_url:"",search:"",listloading:!1,nodata:!1},directives:{"load-more":{bind:function(t,e){var a=window.screen.height,o=void 0,r=void 0,s=void 0,n=void 0,i=void 0,c=void 0,l=void 0,g=void 0,u=t.attributes.type&&t.attributes.type.value;2==u?(l=t,g=t.children[0]):(l=document.body,g=t),t.addEventListener("touchstart",function(){o=g.clientHeight,2==u&&(o=o),r=t.offsetTop,s=tools.getStyle(t,"paddingBottom"),n=tools.getStyle(t,"marginBottom")},!1),t.addEventListener("touchmove",function(){h()},!1),t.addEventListener("touchend",function(){c=l.scrollTop,d()},!1);var d=function t(){i=requestAnimationFrame(function(){l.scrollTop!=c?(c=l.scrollTop,t()):(cancelAnimationFrame(i),o=g.clientHeight,h())})},h=function(){l.scrollTop+a>=o+r+s+n-2&&e.value()}}}},methods:{getBefore:function(){this.listloading=!0},subSearch:function(){var t=this,e=config.shareUrl+"?";t.categary&&(e+="&code="+t.categary),t.sortsel&&(e+="&sort="+t.sortsel),t.search&&tools.ajaxGet(e+"&keyword="+t.search,t.searchSuc,t.getBefore)},searchSuc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.shareList.length>0?e.nodata=!1:e.nodata=!0},searchTxt:function(){var t=this;console.log(t.search)},clear:function(){this.search=""},nextPage:function(){var t=this;if(t.preventRepeatReuqest=!0,t.pager.next>0){var e=config.shareUrl+"?page="+t.pager.next;t.categary&&(e+="&code="+t.categary),t.sortsel&&(e+="&sort="+t.sortsel),e!==t.last_url&&(t.last_url=e,tools.ajaxGet(e,t.pageSucc,t.getBefore))}},pageSucc:function(t){var e=this;e.pager=t.data.pager,e.shareList=t.data.entries.concat(e.shareList),e.preventRepeatReuqest=!1,e.listloading=!1},sel:function(){var t=this,e=config.shareUrl+"?sort="+t.sortsel+"&page="+t.pager.next;t.categary&&(e+="&code="+t.categary),tools.ajaxGet(e,t.selSucc,t.getBefore)},selSucc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.listloading=!1,e.shareList.length>0?e.nodata=!1:e.nodata=!0},cate:function(){var t=this,e=config.shareUrl+"?code="+t.categary+"&page="+t.pager.next;t.sortsel&&(e+="&sort="+t.sortsel),tools.ajaxGet(e,t.cateSucc,t.getBefore)},cateSucc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.listloading=!1,e.shareList.length>0?e.nodata=!1:e.nodata=!0},close:function(){this.showAlert=!1},close_auto:function(t,e){var a=this;setTimeout(function(){a.showAlert=!1,t&&t(e)},1500)},linkto:function(t){t&&(location.href=t)}}}).$mount("#share");