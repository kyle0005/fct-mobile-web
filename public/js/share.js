"use strict";var app=new Vue({computed:{},mounted:function(){this.initData()},watch:{shareList:function(t,e){this.listloading||(this.shareList&&this.shareList.length>0?this.nodata=!1:this.nodata=!0)}},data:{showAlert:!1,msg:null,shareList:[],pager:config.share.pager,productsType:config.productsType,sort:config.sort,sortsel:0,categary:config.productsType[0].code,preventRepeatReuqest:!1,last_url:"",search:"",listloading:!0,nodata:!1},directives:{"load-more":{bind:function(t,e){var a=window.screen.height,o=void 0,s=void 0,r=void 0,i=void 0,n=void 0,c=void 0,l=void 0,h=void 0,u=t.attributes.type&&t.attributes.type.value;2==u?(l=t,h=t.children[0]):(l=document.body,h=t),t.addEventListener("touchstart",function(){o=h.clientHeight,2==u&&(o=o),s=t.offsetTop,r=tools.getStyle(t,"paddingBottom"),i=tools.getStyle(t,"marginBottom")},!1),t.addEventListener("touchmove",function(){d()},!1),t.addEventListener("touchend",function(){c=l.scrollTop,g()},!1);var g=function t(){n=requestAnimationFrame(function(){l.scrollTop!=c?(c=l.scrollTop,t()):(cancelAnimationFrame(n),o=h.clientHeight,d())})},d=function(){l.scrollTop+a>=o+s+r+i-2&&e.value()}}}},methods:{initData:function(){var t=this;t.shareList=config.share.entries,t.listloading=!1},getBefore:function(){this.listloading=!0},subSearch:function(){var t=this;t.nodata=!1;var e=config.shareUrl+"?";t.categary&&(e+="&code="+t.categary),t.sortsel&&(e+="&sort="+t.sortsel),t.search&&tools.ajaxGet(e+"&keyword="+t.search,t.searchSuc,t.getBefore)},searchSuc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager},searchTxt:function(){var t=this;console.log(t.search)},clear:function(){this.search=""},nextPage:function(){var t=this;if(t.preventRepeatReuqest=!0,t.pager.next>0){var e=config.shareUrl+"?page="+t.pager.next;t.categary&&(e+="&code="+t.categary),t.sortsel&&(e+="&sort="+t.sortsel),e!==t.last_url&&(t.last_url=e,tools.ajaxGet(e,t.pageSucc,t.getBefore))}},pageSucc:function(t){var e=this;e.pager=t.data.pager,e.shareList=t.data.entries.concat(e.shareList),e.preventRepeatReuqest=!1,e.listloading=!1},sel:function(){var t=this;t.nodata=!1;var e=config.shareUrl+"?sort="+t.sortsel+"&page="+t.pager.next;t.categary&&(e+="&code="+t.categary),tools.ajaxGet(e,t.selSucc,t.getBefore)},selSucc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.listloading=!1},cate:function(){var t=this;t.nodata=!1;var e=config.shareUrl+"?code="+t.categary+"&page="+t.pager.next;t.sortsel&&(e+="&sort="+t.sortsel),tools.ajaxGet(e,t.cateSucc,t.getBefore)},cateSucc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.listloading=!1},close:function(){this.showAlert=!1},close_auto:function(t,e){var a=this;setTimeout(function(){a.showAlert=!1,t&&t(e)},1500)},linkto:function(t){t&&(location.href=t)}}}).$mount("#share");