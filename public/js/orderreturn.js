"use strict";Vue.component("pop",{template:"#pop",data:function(){return{positionY:0,timer:null}},props:["msg"],methods:{close:function(){this.$emit("close")}}});var app=new Vue({computed:{},mounted:function(){},data:{showAlert:!1,msg:null,product:config.product,description:"",uploadItem:[],subUpload:[],maxNum:3,servicetype:0,reason:""},watch:{},methods:{delImg:function(e){var t=this;t.uploadItem.splice(e,1),t.subUpload.splice(e,1)},fileChange:function(e){var t=this,o={};o=void 0===e.target?e[0]:e.target.files[0];var n=new FormData;n.append("action","head"),n.append("file",o),jAjax({type:"post",url:config.uploadFileUrl,data:n,contentType:!1,timeOut:6e4,success:function(e){e&&(e=JSON.parse(e),200==parseInt(e.code)&&(t.uploadItem.push(e.data.fullUrl),t.subUpload.push(e.data.url)))}})},sub:function(){var e=this;jAjax({type:"post",url:config.returnUrl,data:{order_id:e.product.orderId,order_product_id:e.product.id,service_type:e.servicetype,reason:e.reason,description:e.description,images:base64.encode64(JSON.stringify(e.subUpload))},timeOut:5e3,before:function(){console.log("before")},success:function(t){t&&(t=JSON.parse(t),parseInt(t.code),e.msg=t.message,e.showAlert=!0,e.close_auto())},error:function(e,t){console.log(t)}})},close:function(){this.showAlert=!1},close_auto:function(e,t){var o=this;setTimeout(function(){o.showAlert=!1,e&&e(t)},1500)},linkto:function(e){e&&(location.href=e)}}}).$mount("#orderreturn");