"use strict";Vue.component("pop",{template:"#pop",data:function(){return{positionY:0,timer:null}},props:["msg"],methods:{close:function(){this.$emit("close")}}});var app=new Vue({computed:{rightPhoneNumber:function(){return/^1\d{10}$/gi.test(this.phoneNumber)}},data:function(){return{loginWay:!0,phoneNumber:null,userInfo:null,userAccount:null,passWord:null,showAlert:!1,msg:null,mobileCode:null,validate_token:null,computedTime:0,captchaCodeImg:null,codeNumber:null,action:"login"}},methods:{changeway:function(o){this.loginWay=o,this.loginWay=!this.loginWay},getVerifyCode:function(){var o=this,e=this;this.rightPhoneNumber?(this.computedTime=30,this.timer=setInterval(function(){0==--o.computedTime&&clearInterval(o.timer)},1e3),jAjax({type:"post",url:apis.mobileCodeResource,data:{cellphone:this.phoneNumber,action:this.action},timeOut:5e3,before:function(){console.log("before")},success:function(o){o&&(o=JSON.parse(o),parseInt(o.code),e.msg=o.message,e.showAlert=!0,e.close_auto())},error:function(o,t){e.msg=o,e.showAlert=!0,e.msg="请求失败",e.close_auto()}})):(e.msg="手机号码格式不正确",e.showAlert=!0,e.close_auto())},mobileLogin:function(){var o=this;return o.phoneNumber?o.passWord?void jAjax({type:"post",url:apis.userResource,data:formData.serializeForm("userLogin"),timeOut:5e3,before:function(){console.log("before")},success:function(e){e&&(e=JSON.parse(e),200==parseInt(e.code)?(o.msg=e.message,o.showAlert=!0,o.close_auto(o.linkto,e.url)):(o.msg=e.message,o.showAlert=!0,o.close_auto()))},error:function(o,e){console.log(e)}}):(o.showAlert=!0,o.msg="请输入密码",void o.close_auto()):(o.showAlert=!0,o.msg="请输入手机号",void o.close_auto())},mobileMsgLogin:function(){var o=this;if(!this.rightPhoneNumber)return this.showAlert=!0,this.msg="手机号码不正确",void o.close_auto();jAjax({type:"post",url:apis.userResource,data:formData.serializeForm("quickLogin"),timeOut:5e3,before:function(){console.log("before")},success:function(e){e&&(e=JSON.parse(e),200==parseInt(e.code)?(o.msg=e.message,o.showAlert=!0,o.close_auto(),e.url&&(location.href=e.url)):(o.msg=e.message,o.showAlert=!0,o.close_auto()))},error:function(o,e){console.log(e)}})},close:function(){this.showAlert=!1},close_auto:function(o,e){var t=this;setTimeout(function(){t.showAlert=!1,o&&o(e)},1500)},linkto:function(o){o&&(location.href="http://localhost:9000/login.html")}}}).$mount("#login");