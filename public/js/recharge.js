"use strict";var app=new Vue({computed:{},mounted:function(){var e=this;e.loadChargeNum(),e.choose(e.charge_nums[0][Object.keys(e.charge_nums[0])[0]],Object.keys(e.charge_nums[0])[0],0)},data:{showAlert:!1,msg:null,charge:config.charge,charge_nums:[],tab_num:0,isOther:!1,charge_num:0,gift:0,balance:0,discount:config.charge.defaultGift,hasNum:!1,subText:"我要充值"},directives:{focus:{inserted:function(e){e.focus()}}},watch:{charge_num:function(e,a){var t=this;t.tab_num!=t.charge_nums.length-1&&(t.charge_num>t.charge.max||t.charge_num<t.charge.min)&&(t.charge_num=a),t.charge_num>0?t.hasNum=!0:t.hasNum=!1,t.gift=(parseFloat(t.charge_num)*parseFloat(t.discount)).toFixed(0),t.balance=(parseFloat(t.charge_num)+parseFloat(t.gift)).toFixed(0)}},methods:{showText:function(e){var a=!1;return 0==Object.keys(e)[0]&&(a=!0),a},loadChargeNum:function(){var e=this,a={0:e.discount};for(var t in config.charge.rules){var c={};config.charge.rules.hasOwnProperty(t)&&(c[t]=config.charge.rules[t],e.charge_nums.push(c))}e.charge_nums.push(a)},choose:function(e,a,t){var c=this;c.tab_num=t,0==parseFloat(a)?(a="",c.isOther=!0,c.discount=config.charge.defaultGift):(c.isOther=!1,c.discount=e),c.charge_num=a},sub:function(){var e=this,a=config.rechargeUrl,t={charge_num:e.charge_num};e.$refs.subpost.post(a,t)},succhandle:function(e){var a=this;a.msg=e.message,a.showAlert=!0,e.url?a.close_auto(a.linkto,e.url):a.close_auto()},close:function(){this.showAlert=!1},close_auto:function(e,a){var t=this;setTimeout(function(){t.showAlert=!1,e&&e(a)},1500)},linkto:function(e){e&&(location.href=e)}}}).$mount("#recharge");