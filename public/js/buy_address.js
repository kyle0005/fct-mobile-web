"use strict";var app=new Vue({mounted:function(){this.defaultAddr()},data:{address:config.address,showAlert:!1,msg:null,picked:"",subText:"删除",del_index:null},methods:{setDefault:function(e){this.address.forEach(function(e,t){e.isDefault=0}),e.isDefault=1},changeDefault:function(e){var t=this;jAjax({type:"post",url:config.defaultAddrUrl+"?id="+e.id,data:{},timeOut:5e3,before:function(){},success:function(s){s&&(s=JSON.parse(s),200==parseInt(s.code)?(t.msg=s.message,t.showAlert=!0,t.close_auto(),t.setDefault(e),t.defaultAddr()):(t.msg=s.message,t.showAlert=!0,t.close_auto()))},error:function(e,t){}})},edit:function(e){location.href=config.editUrl+"?id="+e.id},del:function(e){var t=this,s=config.delAddrUrl+"?id="+e.item.id,d={};t.del_index=e.index;var n="subpost"+e.index;t.$refs[n][0].post(s,d)},addressStr:function(e){return e.province+e.cityId+e.townId+e.address},defaultAddr:function(){var e=this,t=0,s="";e.address.forEach(function(d){1==(t=parseInt(d.isDefault))&&(s=e.addressStr(d))}),e.picked=s},succhandle:function(e){var t=this;t.msg=e.message,t.showAlert=!0,t.address.splice(t.del_index,1),t.setDefault(t.address[0]),t.defaultAddr(),e.url?t.close_auto(t.linkto,e.url):t.close_auto()},close:function(){this.showAlert=!1},close_auto:function(e,t){var s=this;setTimeout(function(){s.showAlert=!1,e&&e(t)},1500)},linkto:function(e){e&&(location.href=e)}}}).$mount("#buy_address");