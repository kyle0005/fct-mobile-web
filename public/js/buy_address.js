"use strict";Vue.component("pop",{template:"#pop",data:function(){return{positionY:0,timer:null}},props:["msg"],methods:{close:function(){this.$emit("close")}}});var app=new Vue({mounted:function(){this.defaultAddr()},data:{address:config.address,showAlert:!1,msg:null,picked:""},methods:{close:function(){this.showAlert=!1},close_auto:function(e,t){var o=this;setTimeout(function(){o.showAlert=!1,e&&e(t)},1500)},linkto:function(e){e&&(location.href=e)},setDefault:function(e){this.address.forEach(function(e,t){e.isDefault=0}),e.isDefault=1},changeDefault:function(e){var t=this;jAjax({type:"post",url:config.defaultAddrUrl+"?id="+e.id,data:{},timeOut:5e3,before:function(){console.log("before")},success:function(o){o&&(o=JSON.parse(o),200==parseInt(o.code)?(t.msg=o.message,t.showAlert=!0,t.close_auto(),t.setDefault(e),t.defaultAddr()):(t.msg=o.message,t.showAlert=!0,t.close_auto()))},error:function(e,t){console.log(t)}})},edit:function(e){location.href=config.editUrl+"?id="+e.id},del:function(e,t){var o=this;jAjax({type:"post",url:config.delAddrUrl+"?id="+e.id,data:{},timeOut:5e3,before:function(){console.log("before")},success:function(e){e&&(e=JSON.parse(e),200==parseInt(e.code)?(o.msg=e.message,o.showAlert=!0,o.close_auto(),o.address.splice(t,1),o.setDefault(o.address[0]),o.defaultAddr()):(o.msg=e.message,o.showAlert=!0,o.close_auto()))},error:function(e,t){console.log(t)}})},addressStr:function(e){return e.province+e.cityId+e.townId+e.address},defaultAddr:function(){var e=this,t=0,o="";e.address.forEach(function(s){1==(t=parseInt(s.isDefault))&&(o=e.addressStr(s))}),e.picked=o}}}).$mount("#buy_address");