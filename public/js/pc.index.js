var YUEWEN=function(e,t,a){var n="active",i="reverse";return{el:{},load:function(t,a){var n=this;a=a||function(){};var i=document.createElement("script");i.onload=function(){i.isInited||(i.isInited=!0,a.call(n))},i.onreadystatechange=function(){!i.isInited&&/^loaded|complete$/.test(i.readyState)&&(i.isInited=!0,a.call(n))},i.src=t,e.getElementsByTagName("head")[0].appendChild(i)},scrollLoading:function(a){var n=[];if(a&&a.length){a.each(function(){e.querySelector&&(this.src="data:image/gif;base64,R0lGODlhCgAKAIAAAP///wAAACH5BAEAAAAALAAAAAAKAAoAAAIIhI+py+0PYysAOw=="),n.push({obj:this,src:$(this).attr("data-src")})});var i=function(){var e=$(t).height(),a=$(t).width();$.each(n,function(t,n){var i=n.obj;if(i){var s=i.getBoundingClientRect();if(0!=s.left||0!=s.top){var r=i.clientWidth,o=i.clientHeight,l=!1;s.top+o>=0&&s.top<e&&(l=!0);var c=!1;s.left+r>=0&&s.left<a&&(c=!0),l&&c&&(i.src=n.src,i.removeAttribute("data-src"),n.obj=null)}}})};this.el.container.on("scroll",i),this.el.container.on("resize",i),i()}},swipe:function(e,t,a){var n=this;if(0==$.isFunction(a))return n;var i={x:0,y:0},s={},r={start:function(e){var t=e.touches[0];i={x:t.pageX,y:t.pageY,time:+new Date}},move:function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale)){var t=e.touches[0];s={x:t.pageX-i.x,y:t.pageY-i.y}}},end:function(n){var o=+new Date-i.time;if(Number(o)<500){var l=Math.abs(s.x),c=Math.abs(s.y);l>20&&c<l&&(s.x<0&&"left"==t||s.x>0&&"right"==t)&&a.call(e[0],r),c>20&&l<c&&(s.y<0&&"top"==t||s.y>0&&"bottom"==t)&&a.call(e[0],r)}i={},s={}}};return e.on("touchstart",r.start),e.on("touchmove",r.move),e.on("touchend",r.end),n},slide:function(e,t){var a=this;if("string"==typeof e&&(e=$(e)),e&&e.length){var i=0,s=$.map(e,function(e,t){var a="";return e=$(e),e.hasClass(n)?i=t:(a=e.attr("data-hash"))&&location.hash.replace("#","")==a&&(i=t),$("#"+e.data("index",t).attr("data-rel"))});e.eq(i).addClass(n),e.on("click",function(){var e=$(this),t=+e.data("index");0==e.hasClass(n)&&r(t)});var r=function(r){e.eq(i).removeClass(n),e.eq(r).addClass(n),$(s[i]).removeClass(n),$(s[r]).addClass(n),$.isFunction(t)&&t.call(a,e.eq(r),s[r],e.eq(i),s[i]),i=r}}return this},slidePreload:function(){var e=this;return e.isPreload=!0,e},slideHomeApp:function(){var e=this,a=e.el.tabApp=$("#tabApp"),i=e.el.tabLine=$("#tabLine"),s=a.find("a"),r=function(s){var r=a.find("."+n),o=0;if(r.length&&(o=r.position().left,i.css({width:r.width()}),history.pushState?i.css({webkitTransform:"translateX("+o+"px)",transform:"translateX("+o+"px)"}):i.css({left:r.position().left})),t.FN_hash&&!0!==s){var l=r.attr("data-hash");location.replace(location.href.split("#")[0]+"#"+l),FN_hash(),e.el.container.trigger("scroll")}};if(e.slide(s,r),r(!0),"S"==t.SIZE){var o=$("#mobile ul");e.swipe(o,"left",function(){var e=1*a.find("."+n).data("index");e++,e>s.length-1&&(e=0),s.eq(e).trigger("click")}),e.swipe(o,"right",function(){var e=1*a.find("."+n).data("index");e--,e<0&&(e=s.length-1),s.eq(e).trigger("click")}),$("#mobile a").removeAttr("target"),$(".mNoBlank").removeAttr("target")}return e},slideBrand:function(){var e,t,a=this,s=a.el.brandDescX=$("#brandDescX"),r=a.el.brandNavX=$("#brandNavX");return s.length&&r.length&&(e=s.find("li"),t=r.find("a"),t.each(function(t){$(this).data("index",t).on("mouseenter",function(){var t=$(this),s=null,o=-1,l=t.data("index");clearTimeout(a.timerNavHover),a.timerNavHover=setTimeout(function(){if(!1===t.hasClass(n)){s=r.find("."+n),1==s.length&&(o=s.data("index"),s.removeClass(n)),t.addClass(n);var a=!1;l<o&&(a=!0);var c=e.eq(o);c.length&&(c.removeClass("in").removeClass(i).addClass("out"),a&&c.addClass(i)),e.eq(l).addClass("in").removeClass(i).removeClass("out"),a&&e.eq(l).addClass(i)}},225)})}),r.on("mouseleave",function(){clearTimeout(a.timerNavHover)})),a},slideHomeHeader:function(){var a=this,i=a.el.header,s=a.el.dots;if(i.length){var r=function(){a.timerSlide||(a.timerSlide=setInterval(function(){var e=1*$("#hdDotX ."+n).data("index")+1;s[e]||(e=0),s.eq(e).trigger("click")},5e3))};"S"!==t.SIZE?(i.on("mouseenter",function(){clearInterval(a.timerSlide),a.timerSlide=null}).on("mouseleave",function(){r()}),$(e).on("mouseover",function(){a.isPreload||(setTimeout(function(){a.isPreload||a.slidePreload()},4e3),setTimeout(function(){r()},5e3))})):(a.swipe(i,"left",function(){var e=1*$("#hdDotX ."+n).data("index");e++,e>s.length-1&&(e=0),s.eq(e).trigger("click")}),a.swipe(i,"right",function(){var e=1*$("#hdDotX ."+n).data("index");e--,e<0&&(e=s.length-1),s.eq(e).trigger("click")}))}return this},showQr:function(){$(document).on("click",".pop-btn",function(){var e=$(this);"block"==e.parents(".check-code").find(".qrcode-contianer").css("display")?e.parents(".check-code").find(".qrcode-contianer").hide():e.parents(".check-code").find(".qrcode-contianer").show()})},scrollBarFixed:function(){var a=this,i=a.el.header,s=a.el.container;a.el.hdBar=$("#ywHdBar");var r,o=$("#ywMnavBtn"),l=$("#ywMnavName");a.el.barNav=o;var c=0,d=[],h=$("#ywMnav > a").each(function(e){var t=this.getAttribute("href");/^#/.test(t)&&d.push($(t)),location.hash.replace("&","")==t&&(c=e)});if(i.length)if("S"==t.SIZE){r=a.el.hdBar;var u=$(".jsSwiper"),f=$(".jsHuGeBg"),v=$(".jsHugeArr"),p=$(".jsHeader");$(".jsAppImg"),"QQ"==window.APP&&p.css("height","calc(100vh + 80px)"),s.on("scroll",function(e){var t=$(this).scrollTop();t<=0?(r.removeClass("fixed"),r.css("opacity",1),u.css("opacity","0"),v.css("display","block"),f.css("filter","blur(0px)"),f.css("top","-30px")):t>0&&t<=80?(r.addClass("fixed"),r.css("opacity",Math.min(t,30)/30),u.css("opacity",Math.min(t,40)/40),f.css("position","fixed"),f.css("filter","blur("+Math.min(t,40)/4+"px)"),v.css("display","none"),f.css("top","-30px")):t>80&&(f.css("position","absolute"),f.css("top","50px"));var a=$.map(d,function(e){return e[0].getBoundingClientRect().top}),i=$.map(a,function(e){return Math.abs(e)}),s=Math.min.apply(null,i);$.each(a,function(e,t){(0==e&&t>0||e==a.length-1&&t<0||Math.abs(t)==s)&&(h.removeClass(n),l.html(h.eq(e).addClass(n).html()),c=e)})}),s.on("touchend",function(e){u.css("opacity",1),f.css("position","absolute"),f.css("filter","blur(10px)"),console.log("dfdf")}),o.on("touchstart",function(){$(this).toggleClass(n)})}else if(!t.APP){if(r=$("#ywBarX"),0==r.length)return a;a.el.barX=r;var m=r[0].className.split(" ")[0]+"-fixed",g=function(e,t){h.removeClass(n),h.eq(e).addClass(n);var a=h.eq(e).attr("href");/#/.test(a)&&location.replace("#&"+a.split("#")[1]),c=e};a.el.container.on("scroll",function(){var t=$(this).scrollTop();return t<=0?(r.removeClass(m),r.css("opacity",1)):(r.addClass(m),r.css("opacity",Math.min(t,50)/50)),a.triggerScroll?void $.each(d,function(e,t){t[0]==a.triggerScroll&&(c=e)}):t==e.documentElement.scrollHeight-e.documentElement.clientHeight?(c=d.length-1,void g(c)):void $.each(d,function(e,t){var a=t[0];c!==e&&Math.abs(a.getBoundingClientRect().top)<=75&&g(e)})}),0!=c&&g(c),a.el.container.trigger("scroll")}return a},tapHomeCopy:function(){var a=this;a.el.copy=$("#ywCopyX");var i=null,s=null,r=a.el.copy;if(r.length&&"S"==t.SIZE){var o=Math.round((r[0].scrollWidth-r.width())/2);r.scrollLeft(o),r.on("scroll",function(){a.el.container.trigger("scroll"),this.scrollEd||r.scrollLeft()===o||($("#copyright svg").hide(),this.scrollEd=!0)});var l={x:0,y:0};r.find("li > div").on({touchstart:function(e){var t=e.touches[0]||e;l={x:t.pageX,y:t.pageY};var a=this;s=a,i=setTimeout(function(){s==a&&$(a).addClass(n)},500)}}),$(e).on("touchend",function(){clearTimeout(i),s=null,r.find("."+n).removeClass(n)}).on("touchmove",function(e){var t=e.touches[0]||e;(Math.abs(t.pageX-l.x)>5||Math.abs(t.pageY-l.y)>5)&&clearTimeout(i)})}else if(r.length){var c=r.find("ul"),d=parseInt(c.css("marginLeft"));c.find("li").on("mouseenter",function(){var e=this.getBoundingClientRect(),a=0,n=$(t).width();(e.left<0||e.right>n)&&(a=e.left<0?Math.floor(-1*e.left):Math.ceil(n-e.right),[].map?c.css({msTransform:"translateX("+a+"px)",transform:"translateX("+a+"px)"}):c.css("marginLeft",d+a))}).on("mouseleave",function(){[].map?c.css({msTransform:"none",transform:"none"}):c.css("marginLeft",d)})}return a},getNews:function(){var a=this,n=a.urlNewsList,i=($("#yw-news-x"),$("#newsLoading"),$("#ywNewslay")),s=$("#news-list"),r=$("#news-detail"),o=$("#back"),l={};$(document).on("click",".jsShut",function(){i.hide(),s.hide(),r.hide(),o.hide(),"S"!=t.SIZE&&(e.documentElement.style.overflow="",$(e.body).css("border-right","0"))});var c=function(e){return'<p class="yw-news-fn">'+e+"</p>"};c("已全部加载完毕");return $(document).on("click",".jsLayMore",function(){var e=$(this),t=e.attr("data-page");l.next>0?(e.html("加载中..."),$.ajax({url:n+"?page="+t,dataType:"json",data:{more:1,page:t},success:function(e){200==e.code&&(s.append(e.data.entries),l=e.data.pager)},complete:function(){e.html("查看更多")},error:function(){e.before(c("网络异常，没有加载成功")).remove()}})):s.append("<div>没有更多了...</div>")}),$(document).on("click","#moreNews",function(){e.documentElement.style.overflow="hidden";var t={more:1,page:$(this).attr("data-page")};s.show(),i.show(),$.ajax({url:n+"?page="+t.page,data:t,dataType:"json",success:function(e){200==e.code&&(s.html(e.data.entries),l=e.data.pager)},error:function(){}})}),$(document).on("click",".news-link",function(){var t=$(this);if(0==t.data("urltype"))location.href=t.data("url");else{o.show(),$.ajax({url:t.data("url"),dataType:"json",success:function(e){200==e.code&&r.html(e.data)},error:function(){}});"none"==i.css("display")?(e.documentElement.style.overflow="hidden",r.show(),i.show()):(s.hide(),r.show())}return!1}),$(document).on("click",".js-opt",function(){var e=$(this);$.ajax({url:e.data("url"),dataType:"json",success:function(e){200==e.code&&r.html(e.data)},error:function(){}})}),$(document).on("click","#back",function(){$(this);$.ajax({url:n+"?page=1",dataType:"json",success:function(e){200==e.code&&(s.html(e.data.entries),l=e.data.pager,r.hide(),s.show(),o.hide())},error:function(){}})}),a},showImage:function(e){var t=this,a=t.el.overlay;if(a){if(a.data("lasturl")===e)return void a.addClass(n).show();a.html(a.data("origin"))}else a=$("#ywOverlay"),a.data("origin",a.html()).on("click",function(){$(this).removeClass(n).hide()}),t.el.overlay=a;var i=a.children("div").removeAttr("style");a.show();var s=new Image;return s.onload=function(){var t=this.width,n=this.height;setTimeout(function(){i.css({width:t,height:n}).html('<img src="'+e+'">'),a.data("lasturl",e)},200)},s.onerror=function(){i.html('<div class="error">图片显示异常，请重试</div>')},s.src=e,this},scrollIntoView:function(e,a,n){var i=this,s=i.el.container;n=n||"top";var r="scroll"+n.slice(0,1).toUpperCase()+n.slice(1,n.length);if(e&&e.length){clearTimeout(i.timerScroll);var o=s[r](),l=e.offset()[n]+o;"S"==t.SIZE?l-=50:t.APP||(l=e.offset()[n]-74);var c=o,d=function(){var t=(l-c)/10;Math.abs(t)<.1?(s[r](l),$.isFunction(a)&&a.call(e[0])):(c+=t,s[r](c),i.timerScroll=setTimeout(d,20))};d()}return i},eventsGlobal:function(){var a=this;return $(e).delegate("a","click",function(e){var i=this.getAttribute("href");this.href,/^#/.test(i)?(a.scrollIntoView($(i),function(){"S"!=t.SIZE&&(location.replace("#&"+i.split("#")[1]),a.triggerScroll=null)}),"S"==t.SIZE||/nav/.test(this.className)&&(a.triggerScroll=this,$(this).addClass(n).siblings("a").removeClass(n)),e.preventDefault()):/\.(?:png|jpg)$/.test(i)?(a.showImage(i),e.preventDefault()):/#/.test(i)&&($(this).parent().find("."+n).removeClass(n),$(this).addClass(n))}),this.scrollLoading($("img[data-src]")),a},eventsHome:function(){var e=this;e.slideHomeHeader(),e.scrollBarFixed(),e.slideHomeApp(),e.slideBrand();var a;return"S"==t.SIZE&&(a=e.el.barNav||$("#ywMnavBtn"),$("#ywMnav").click(function(){a.removeClass(n)})),e.getNews(),e.showQr()},eventsApp:function(){var e=this,a=/Android/i,n=a.test(navigator.userAgent);"S"==t.SIZE&&$("a[data-href]").each(function(){$(this).attr("href",$(this).attr("data-href")).removeAttr("data-href")}),$(".dlBtn").each(function(){var e=this;""==e.getAttribute("href")&&$(e).siblings("a").each(function(){var t=this.innerHTML;n&&a.test(t)?e.href=this.href:0==n&&/ios/i.test(t)&&(e.href=this.href)})}),e.scrollBarFixed(),e.slideHomeApp(),e.showQr();var i=1;![].map&&(i=$(t).width()/1440)>1&&e.el.header.css("overflow","hidden").find("s").each(function(){$(this).css("zoom",i).css("left",-.5*$(t).width()*(i-1))});var s=e.el.tabApp;return s&&s.find("a").on({mouseenter:function(){var e=this,t=$(e),a=-1,n="";e.isPreload||(a=+t.data("index")+1,(n=$("#hdAPP"+a).find("s").css("background-image"))&&(n=n.split('"')[1])&&((new Image).src=n)),e.isPreload=!0}}),e},init:function(){var e=this;return e.loadVideo(),e.el.container="S"==t.SIZE?$("#ywPage"):$(t),e.el.header=$("#ywHeader"),e.el.dots=$("#hdDotX a"),t.APP?e.eventsApp():e.eventsHome(),e.eventsGlobal(),e},loadVideo:function(){var e=($(this),$(".js-poster")),t=$("video.js-v").get(0);$(document).on("click",".js-poster",function(){e.hide(),t.src=$("video.js-v").data("src"),t.play()})}}}(document,window);