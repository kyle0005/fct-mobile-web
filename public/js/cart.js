"use strict";Vue.component("pop",{template:"#pop",data:function(){return{positionY:0,timer:null}},props:["msg"],methods:{close:function(){this.$emit("close")}}}),new Vue({watch:{ischeck:function(){this.pro_list.length===this.ischeck.length?this.checkAll=!0:this.checkAll=!1,this.choose_num=this.ischeck.length,this.caltotalpri()},checkAll:function(t){this.checkAll=t}},data:function(){return{min:!1,max:!1,showAlert:!1,msg:null,pro_list:[],ischeck:[],checkAll:!1,choose_num:0,total_pri:0,like_list:[]}},mounted:function(){this.loadPro(),this.show_like()},methods:{add:function(t){var o=this,c=parseInt(t.buyCount.toString().replace(/[^\d]/g,""));o.min&&(o.min=!1),c<t.stockCount&&(c+=1)===t.stockCount&&(o.max=!0),t.buyCount=c,o.caltotalpri()},minus:function(t){var o=this,c=parseInt(t.buyCount.toString().replace(/[^\d]/g,""));o.max&&(o.max=!1),c>0&&(c-=1,0===c&&(o.min=!0),t.buyCount=c),o.caltotalpri()},selectedProduct:function(t){void 0===t.checked?this.$set(t,"checked",!0):t.checked=!t.checked,this.caltotalpri()},caltotalpri:function(){var t=this;t.total_pri=0,t.ischeck.forEach(function(o){o.checked&&(t.total_pri+=parseFloat(o.promotionPrice)*parseFloat(o.buyCount))}),t.total_pri=t.total_pri.toFixed(2)},chooseall:function(){var t=this,o=this,c=[];o.checkAll||o.pro_list.forEach(function(t){c.push(t)}),o.choose_num=c.length,o.ischeck=c,o.pro_list.forEach(function(c){void 0===c.checked?t.$set(c,"checked",!o.checkAll):c.checked=!o.checkAll}),o.caltotalpri()},close:function(){this.showAlert=!1},close_auto:function(t,o){var c=this;setTimeout(function(){c.showAlert=!1,t&&t(o)},1500)},show_like:function(){this.like_list=config.like_list},linkto:function(t){t&&(location.href="http://localhost:9000/login.html")},loadPro:function(){this.pro_list=config.carts},buy:function(){var t=this,o=[];t.ischeck.forEach(function(t){var c={};c.goodsId=t.goodsId,c.specId=t.specId,c.buyCount=t.buyCount,o.push(c)}),o.length>0&&(location.href=encodeURI(config.buy_url+"?product="+JSON.stringify(o)))}}}).$mount("#cart");