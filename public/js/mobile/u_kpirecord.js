"use strict";var app=new Vue({mounted:function(){this.initData()},data:{kpilist:config.kpi.entries,pager:config.kpi.entries.pager,preventRepeatReuqest:!1,last_url:"",listloading:!0,pagerloading:!1,isPage:!1,nodata:!1,isLastPage:!1},watch:{kpilist:function(t,i){this.listloading||(this.kpilist&&this.kpilist.length>0?this.nodata=!1:this.nodata=!0)}},methods:{initData:function(){this.listloading=!1},nextPage:function(){var t=this;if(t.preventRepeatReuqest=!0,t.pager.next>0){var i=config.kpiurl+"&page="+t.pager.next;i!==t.last_url&&(t.last_url=i,t.isPage=!0,tools.ajaxGet(i,t.nextSucc,t.getBefore))}else t.isLastPage=!0},getBefore:function(){var t=this;t.isPage?t.pagerloading=!0:t.listloading=!0},nextSucc:function(t){var i=this;i.pager=t.data.pager,i.kpilist=i.kpilist.concat(t.data.entries),i.preventRepeatReuqest=!1,i.listloading=!1,i.pagerloading=!1,i.isPage=!1}}}).$mount("#kpirecord");