"use strict";var app=new Vue({mounted:function(){var t=this;t.loadChargeNum(),t.choose(t.charge_nums[0].giftPercent,t.charge_nums[0].price,0)},data:{showAlert:!1,msg:null,charge:config.charge,charge_nums:config.charge.rules,tab_num:0,isOther:!1,charge_num:0,gift:0,balance:0,data_charge_num:0,discount:config.charge.defaultGift,hasNum:!1},directives:{focus:{inserted:function(t){t.focus()}}},watch:{charge_num:function(t,e){var a=this,n=0;n=parseFloat(t.toString().replace(/[^\d]/g,"")),a.charge_num=n||"",a.tab_num!=a.charge_nums.length-1&&(a.charge_num>a.charge.max||a.charge_num<a.charge.min)&&(a.charge_num=e),a.charge_num>0?a.hasNum=!0:a.hasNum=!1,a.gift=(parseFloat(a.charge_num)*parseFloat(a.discount)).toFixed(0),a.balance=(parseFloat(a.charge_num)+parseFloat(a.gift)).toFixed(0)}},computed:{},methods:{toFloat:function(t){var e=this;return t>0?(e.data_charge_num=t.toFixed(2),t.toFixed(2)):"0.00"},showText:function(t){var e=!1;return 0==t.price&&(e=!0),e},loadChargeNum:function(){var t=this,e={giftPercent:t.discount,price:0};t.charge_nums.push(e)},choose:function(t,e,a){var n=this;n.tab_num=a,0==parseFloat(e)?(e="",n.isOther=!0,n.discount=config.charge.defaultGift):(n.isOther=!1,n.discount=t),n.charge_num=e},sub:function(){var t=this,e=config.rechargeUrl,a={charge_num:t.data_charge_num};t.$refs.subpost.post(e,a)},postSuc:function(t,e){},postTip:function(t){var e=this;e.msg=t.message,e.showAlert=!0,e.close_auto()},postBefore:function(){},postError:function(){},succhandle:function(t){var e=this;e.msg=t.message,e.showAlert=!0,t.url?e.close_auto(e.linkto,t.url):e.close_auto()},close:function(){this.showAlert=!1},close_auto:function(t,e){var a=this;setTimeout(function(){a.showAlert=!1,t&&t(e)},1500)},linkto:function(t){t&&(location.href=t)}}}).$mount("#recharge");