"use strict";var app=new Vue({computed:{},mounted:function(){},data:{showAlert:!1,msg:null,userinfo:config.userinfo,uploadImg:{},sex:config.userinfo.sex,date:config.userinfo.birthday},watch:{},methods:{fileChange:function(o){var t=this,e={};e=void 0===o.target?o[0]:o.target.files[0],"image/png"!==e.type&&"image/jpeg"!==e.type&&"image/jpg"!==e.type?(t.msg="文件格式不正确",t.showAlert=!0,t.close_auto()):tools.imgCompress(e,t.upload)},upload:function(o,t){var e=this,s=new FormData;s.append("action","head"),s.append("file",o,t),tools.ajaxPost(config.uploadFileUrl,s,e.uploadSuc,e.postBefore,e.postError,{},e.postTip,!1)},uploadSuc:function(o){var t=this;t.uploadImg=o.data,t.userinfo.headPortrait=t.uploadImg.fullUrl},postSuc:function(o){},postTip:function(o){var t=this;t.msg=o.message,t.showAlert=!0,t.close_auto()},postBefore:function(){},postError:function(){},sub:function(){var o=this,t=config.userinfoUrl,e=formData.serializeForm("userForm");o.$refs.subpost.post(t,e)},succhandle:function(o){var t=this;t.msg=o.message,t.showAlert=!0,o.url?t.close_auto(t.linkto,o.url):t.close_auto()},close:function(){this.showAlert=!1},close_auto:function(o,t){var e=this;setTimeout(function(){e.showAlert=!1,o&&o(t)},1500)},linkto:function(o){o&&(location.href=o)}}}).$mount("#userinfo");