"use strict";var app=new Vue({computed:{rightPhoneNumber:function(){return/^1\d{10}$/gi.test(this.phoneNumber)}},data:function(){return{phoneNumber:null,passWord:null,showAlert:!1,msg:null,mobileCode:null,validate_token:null,computedTime:0,codeNumber:null,action:"forget",subText:"登录"}},methods:{getVerifyCode:function(){var e=this,t=this;this.rightPhoneNumber?(this.computedTime=30,this.timer=setInterval(function(){0==--e.computedTime&&clearInterval(e.timer)},1e3),jAjax({type:"post",url:apis.mobileCodeResource,data:{cellphone:this.phoneNumber,action:this.action},timeOut:5e3,before:function(){t.postTxt="确认中..."},success:function(e){e&&(e=JSON.parse(e),200==parseInt(e.code)?(t.msg=e.message,t.showAlert=!0,t.close_auto(),t.postTxt="确认"):(t.msg=e.message,t.showAlert=!0,t.close_auto()))},error:function(e,o){t.msg=e,t.showAlert=!0,t.msg="请求失败",t.close_auto()}})):(t.msg="手机号码格式不正确",t.showAlert=!0,t.close_auto())},update:function(){var e=this;if(!this.rightPhoneNumber)return this.showAlert=!0,this.msg="手机号码不正确",void e.close_auto();var t=apis.userResource,o=formData.serializeForm("find");e.$refs.subpost.post(t,o)},succhandle:function(e){var t=this;t.msg=e.message,t.showAlert=!0,e.url?t.close_auto(t.linkto,e.url):t.close_auto()},close:function(){this.showAlert=!1},close_auto:function(e,t){var o=this;setTimeout(function(){o.showAlert=!1,e&&e(t)},1500)},linkto:function(e){e&&(location.href=e)}}}).$mount("#findpwd");