"use strict";Vue.component("coupons",{template:"#coupon_item",data:function(){return{show_search:!1,show_detail:!1}},props:["couponitem"],mounted:function(){},methods:{showdetail:function(){var t=this;t.couponitem.goods.length>0&&(t.show_detail=!t.show_detail)},sub:function(t){var o=this,n=config.useUrl,s={id:t},i="subpost"+t;o.$refs[i].post(n,s)},receive:function(t){var o=this,n=config.getCouponUrl,s={id:t},i="subpost"+t;o.$refs[i].post(n,s)},succhandle:function(t){this.$emit("succhandle",t)},postSuc:function(t){this.$emit("postSuc",t)},postTip:function(t){this.$emit("postTip",t)},postBefore:function(){this.$emit("postBefore")},postError:function(){this.$emit("postError")}}});var app=new Vue({mounted:function(){this.initData()},watch:{couponlist:function(t,o){this.listloading||(this.couponlist&&this.couponlist.length>0?this.nodata=!1:this.nodata=!0)}},data:{showAlert:!1,msg:null,couponlist:[],couponcount:config.couponcount,status:0,tabs:["未使用","使用记录","已过期"],tab_num:0,listloading:!0,pagerloading:!1,isPage:!1,nodata:!1},methods:{initData:function(){var t=this;t.couponlist=config.couponlist,t.listloading=!1},getBefore:function(){this.listloading=!0},pop:function(t,o){var n=this;n.msg=t,n.showAlert=!0,o?n.close_auto(n.linkto,o):n.close_auto()},category:function(t){var o=this;o.preventRepeatReuqest=!1,o.nodata=!1,o.tab_num=t,o.status=0==t?0:1==t?2:3,o.couponlist=[],o.nodata=!1;var n=config.couponlistUrl+"?status="+o.status;tools.ajaxGet(n,o.cateSucc,o.getBefore)},cateSucc:function(t){var o=this;o.couponlist=t.data,o.listloading=!1},succhandle:function(t){var o=this;o.msg=t.message,o.showAlert=!0,t.url?o.close_auto(o.linkto,t.url):o.close_auto()},postSuc:function(t){},postTip:function(t){var o=this;o.msg=t.message,o.showAlert=!0,o.close_auto()},postBefore:function(){},postError:function(){},close:function(){this.showAlert=!1},close_auto:function(t,o){var n=this;setTimeout(function(){n.showAlert=!1,t&&t(o)},1500)},linkto:function(t){t&&(location.href=t)}}}).$mount("#coupon");