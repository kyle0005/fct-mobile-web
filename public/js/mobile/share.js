"use strict";var app=new Vue({computed:{},mounted:function(){this.initData()},watch:{shareList:function(t,a){this.listloading||(this.shareList&&this.shareList.length>0?this.nodata=!1:this.nodata=!0)}},data:{showAlert:!1,msg:null,shareList:[],pager:config.share.pager,productsType:config.productsType,sort:config.sort,sortsel:0,categary:config.productsType[0].code,preventRepeatReuqest:!1,last_url:"",search:"",listloading:!0,pagerloading:!1,isPage:!1,nodata:!1,show:!1,qrurl:"",qrname:""},methods:{initData:function(){var t=this;t.shareList=config.share.entries,t.listloading=!1},getBefore:function(){var t=this;t.isPage?t.pagerloading=!0:t.listloading=!0},subSearch:function(){var t=this;t.nodata=!1;var a=config.shareUrl+"?";t.categary&&(a+="&code="+t.categary),t.sortsel&&(a+="&sort="+t.sortsel),t.search&&tools.ajaxGet(a+"&keyword="+t.search,t.searchSuc,t.getBefore)},searchSuc:function(t){var a=this;a.shareList=t.data.entries,a.pager=t.data.pager},searchTxt:function(){var t=this;console.log(t.search)},clear:function(){this.search=""},nextPage:function(){var t=this;if(t.preventRepeatReuqest=!0,t.pager.next>0){var a=config.shareUrl+"?page="+t.pager.next;t.categary&&(a+="&code="+t.categary),t.sortsel&&(a+="&sort="+t.sortsel),a!==t.last_url&&(t.last_url=a,t.isPage=!0,tools.ajaxGet(a,t.pageSucc,t.getBefore))}},pageSucc:function(t){var a=this;a.pager=t.data.pager,a.shareList=a.shareList.concat(t.data.entries),a.preventRepeatReuqest=!1,a.listloading=!1,a.pagerloading=!1,a.isPage=!1},sel:function(){var t=this;t.nodata=!1;var a=config.shareUrl+"?sort="+t.sortsel+"&page="+t.pager.next;t.categary&&(a+="&code="+t.categary),tools.ajaxGet(a,t.selSucc,t.getBefore)},selSucc:function(t){var a=this;a.shareList=t.data.entries,a.pager=t.data.pager,a.listloading=!1},cate:function(){var t=this;t.nodata=!1;var a=config.shareUrl+"?code="+t.categary+"&page="+t.pager.next;t.sortsel&&(a+="&sort="+t.sortsel),tools.ajaxGet(a,t.cateSucc,t.getBefore)},cateSucc:function(t){var a=this;a.shareList=t.data.entries,a.pager=t.data.pager,a.listloading=!1},close:function(){this.showAlert=!1},close_auto:function(t,a){var e=this;setTimeout(function(){e.showAlert=!1,t&&t(a)},1500)},linkto:function(t){t&&(location.href=t)}}}).$mount("#share");