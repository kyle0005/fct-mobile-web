"use strict";var app=new Vue({computed:{},mounted:function(){this.initData()},watch:{shareList:function(t,e){this.listloading||(this.shareList&&this.shareList.length>0?this.nodata=!1:this.nodata=!0)}},data:{showAlert:!1,msg:null,shareList:[],pager:config.share.pager,productsType:config.productsType,sort:config.sort,sortsel:0,categary:config.productsType[0].code,preventRepeatReuqest:!1,last_url:"",search:"",listloading:!0,nodata:!1},methods:{initData:function(){var t=this;t.shareList=config.share.entries,t.listloading=!1},getBefore:function(){this.listloading=!0},subSearch:function(){var t=this;t.nodata=!1;var e=config.shareUrl+"?";t.categary&&(e+="&code="+t.categary),t.sortsel&&(e+="&sort="+t.sortsel),t.search&&tools.ajaxGet(e+"&keyword="+t.search,t.searchSuc,t.getBefore)},searchSuc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager},searchTxt:function(){var t=this;console.log(t.search)},clear:function(){this.search=""},nextPage:function(){var t=this;if(t.preventRepeatReuqest=!0,t.pager.next>0){var e=config.shareUrl+"?page="+t.pager.next;t.categary&&(e+="&code="+t.categary),t.sortsel&&(e+="&sort="+t.sortsel),e!==t.last_url&&(t.last_url=e,tools.ajaxGet(e,t.pageSucc,t.getBefore))}},pageSucc:function(t){var e=this;e.pager=t.data.pager,e.shareList=e.shareList.concat(t.data.entries),e.preventRepeatReuqest=!1,e.listloading=!1},sel:function(){var t=this;t.nodata=!1;var e=config.shareUrl+"?sort="+t.sortsel+"&page="+t.pager.next;t.categary&&(e+="&code="+t.categary),tools.ajaxGet(e,t.selSucc,t.getBefore)},selSucc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.listloading=!1},cate:function(){var t=this;t.nodata=!1;var e=config.shareUrl+"?code="+t.categary+"&page="+t.pager.next;t.sortsel&&(e+="&sort="+t.sortsel),tools.ajaxGet(e,t.cateSucc,t.getBefore)},cateSucc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.listloading=!1},close:function(){this.showAlert=!1},close_auto:function(t,e){var a=this;setTimeout(function(){a.showAlert=!1,t&&t(e)},1500)},linkto:function(t){t&&(location.href=t)}}}).$mount("#share");