"use strict";var app=new Vue({computed:{},mounted:function(){this.initData()},watch:{shareList:function(t,e){this.listloading||(this.shareList&&this.shareList.length>0?this.nodata=!1:this.nodata=!0)}},data:{showAlert:!1,msg:null,shareList:[],pager:config.share.pager,open:!1,docked:!1,showPop:0,sorts:config.sorts,artists:config.artists,_url:"",sorts_code:0,artists_code:0,sort_tab:0,art_tab:-1,preventRepeatReuqest:!1,last_url:"",search:"",listloading:!0,pagerloading:!1,isPage:!1,nodata:!1,show:!1,qrurl:"",qrname:""},methods:{initData:function(){var t=this;t._url=config.shareUrl+"?keyword="+t.search,t.shareList=config.share.entries,t.listloading=!1},toggle:function(t){var e=this;-1===t?(e.open=!1,e.docked=!1):(t!==e.showPop&&(e.open=!1,e.docked=!1,e.showPop=t),setTimeout(function(){e.docked=!e.docked,e.open=!e.open},50))},changeS:function(t,e){var a=this;-10!==t&&(a.sorts_code=t),-10!==e&&(a.artists_code=e);var s=a._url+"&sort="+a.sorts_code+"&author="+a.artists_code;console.log(s),tools.ajaxGet(s,a.searchSuc,a.getBefore)},sortsV:function(t,e){var a=this;a.sort_tab=e,a.priV=null,a.changeS(t.value,-10)},artistsV:function(t,e){var a=this;e==a.art_tab?(a.art_tab=-1,a.changeS(-10,0)):(a.art_tab=e,a.changeS(-10,t.value))},getBefore:function(){var t=this;t.isPage?t.pagerloading=!0:t.listloading=!0},subSearch:function(){var t=this;t.nodata=!1;var e=config.shareUrl+"?";t.sorts_code&&(e+="&code="+t.sorts_code),t.artists_code&&(e+="&sort="+t.artists_code),t.search?tools.ajaxGet(e+"&keyword="+t.search,t.searchSuc,t.getBefore):tools.ajaxGet(e+"&keyword=",t.searchSuc,t.getBefore)},searchSuc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.listloading=!1,e.toggle(-1)},searchTxt:function(){var t=this;console.log(t.search)},clear:function(){this.search=""},nextPage:function(){var t=this;if(t.preventRepeatReuqest=!0,t.pager.next>0){var e=config.shareUrl+"?page="+t.pager.next;t.sorts_code&&(e+="&code="+t.sorts_code),t.artists_code&&(e+="&sort="+t.artists_code),e!==t.last_url&&(t.last_url=e,t.isPage=!0,tools.ajaxGet(e,t.pageSucc,t.getBefore))}},pageSucc:function(t){var e=this;e.pager=t.data.pager,e.shareList=e.shareList.concat(t.data.entries),e.preventRepeatReuqest=!1,e.listloading=!1,e.pagerloading=!1,e.isPage=!1},sel:function(){var t=this;t.nodata=!1;var e=config.shareUrl+"?sort="+t.sortsel+"&page="+t.pager.next;t.categary&&(e+="&code="+t.categary),tools.ajaxGet(e,t.selSucc,t.getBefore)},selSucc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.listloading=!1},cate:function(){var t=this;t.nodata=!1;var e=config.shareUrl+"?code="+t.categary+"&page="+t.pager.next;t.sortsel&&(e+="&sort="+t.sortsel),tools.ajaxGet(e,t.cateSucc,t.getBefore)},cateSucc:function(t){var e=this;e.shareList=t.data.entries,e.pager=t.data.pager,e.listloading=!1},close:function(){this.showAlert=!1},close_auto:function(t,e){var a=this;setTimeout(function(){a.showAlert=!1,t&&t(e)},1500)},linkto:function(t){t&&(location.href=t)}}}).$mount("#share");