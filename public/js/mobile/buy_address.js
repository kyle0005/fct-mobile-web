"use strict";var app=new Vue({mounted:function(){var t=this;t.initdata(),t.defaultAddr()},watch:{address:function(t,i){this.listloading||(this.address&&this.address.length>0?this.nodata=!1:this.nodata=!0)}},data:{address:[],showAlert:!1,msg:null,picked:"",del_index:null,listloading:!0,nodata:!1,showConfirm:!1,addr_obj:{}},methods:{initdata:function(){var t=this;t.address=config.address,t.listloading=!1},setDefault:function(t){this.address.forEach(function(t,i){t.isDefault=0}),t.isDefault=1},changeDefault:function(t){var i=this,s=config.defaultAddrUrl+"?id="+t.id,d={};tools.ajaxPost(s,d,i.postSuc,i.postBefore,i.postError,t,i.postTip)},postSuc:function(t,i){var s=this;s.setDefault(i),s.defaultAddr()},postTip:function(t){var i=this;i.msg=t.message,i.showAlert=!0,i.close_auto()},postBefore:function(){},postError:function(){},edit:function(t){location.href=config.editUrl+"?id="+t.id},del:function(t){var i=this,s=config.delAddrUrl+"?id="+t.addr_id,d={};i.del_index=t.index;var o="subpost"+t.index;i.$refs[o][0].post(s,d)},confirm:function(t,i){var s=this;s.msg="您确认要执行此操作？",s.addr_obj={addr_id:t.o.id,index:t.i},s.callback=i,s.showConfirm=!0},no:function(){this.showConfirm=!1},ok:function(t,i){this.showConfirm=!1,t&&t(i)},addressStr:function(t){return t.province+t.cityId+t.townId+t.address},defaultAddr:function(){var t=this,i=0,s="";t.address.forEach(function(d){1==(i=parseInt(d.isDefault))&&(s=t.addressStr(d))}),t.picked=s},succhandle:function(t){var i=this;i.address.splice(i.del_index,1),i.defaultAddr()},close:function(){this.showAlert=!1},close_auto:function(t,i){var s=this;setTimeout(function(){s.showAlert=!1,t&&t(i)},1500)},linkto:function(t){t&&(location.href=t)}}}).$mount("#buy_address");