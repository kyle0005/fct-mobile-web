"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var _time_html='<span :endTime="endTime" :callback="callback" ><slot><span class="time-block">{{ time_content.hour }}</span>:<span class="time-block">{{ time_content.min }}</span>:<span class="time-block">{{ time_content.sec }}</span></slot></span>';Vue.component("m-time",{template:_time_html,data:function(){return{time_content:{day:"00",hour:"00",min:"00",sec:"00"}}},props:{endTime:{type:Number,default:0},callback:{type:Function,default:""}},mounted:function(){this.countdowm(this.endTime)},methods:{countdowm:function(t){var e=this,n=(new Date).getTime(),a=setInterval(function(){var i=new Date,o=new Date(1e3*t+n),s=o.getTime()-i.getTime();if(s>0){var r=Math.floor(s/864e5),c=Math.floor(s/36e5%24),l=Math.floor(s/6e4%60),u=Math.floor(s/1e3%60);c+=24*r,c=c<10?"0"+c:c,l=l<10?"0"+l:l,u=u<10?"0"+u:u,r>0&&(e.time_content.hour=c,e.time_content.min=l,e.time_content.sec=u),r<=0&&c>0&&(e.time_content.hour=c,e.time_content.min=l,e.time_content.sec=u),r<=0&&c<=0&&(e.time_content.min=l,e.time_content.sec=u)}else clearInterval(a),e._callback()},1e3)},_callback:function(){this.callback&&this.callback instanceof Function&&this.callback.apply(this,_toConsumableArray(this))}}});var app=new Vue({mounted:function(){this.initData()},data:{pro_list:[],loading:!1,refreshing:!1,msg:0,isindex:config.isindex,code:"",_code:"",tab_num:null,listloading:!0,pagerloading:!1,isPage:!1,nodata:!1,pager_url:"?level_id=0",preventRepeatReuqest:!1,last_url:"",pager:config.products.pager,isLastPage:!1},watch:{pro_list:function(t,e){this.listloading||(this.pro_list&&this.pro_list.length>0?this.nodata=!1:this.nodata=!0)}},methods:{tip:function(t,e){var n=this,a=config.auction_remind_url,i={goods_id:t.id};n.$refs.tipsref[e].post(a,i,e)},postSuc:function(t,e){this.pro_list[e].remindId=t.data},postTip:function(t){var e=this;e.msg=t.message,e.showAlert=!0,e.close_auto()},postBefore:function(){},postError:function(){},linkto:function(t){t&&(location.href=t)},close:function(){this.showAlert=!1},close_auto:function(t,e){var n=this;setTimeout(function(){n.showAlert=!1,t&&t(e)},1500)},setClock:function(t){var e=(new Date).getTime(),n={day:"00",hour:"00",min:"00",sec:"00"},a=new Date,i=new Date(1e3*t+e),o=i.getTime()-a.getTime();if(o>0){var s=Math.floor(o/864e5),r=Math.floor(o/36e5%24),c=Math.floor(o/6e4%60),l=Math.floor(o/1e3%60);r+=24*s,r=r<10?"0"+r:r,c=c<10?"0"+c:c,l=l<10?"0"+l:l,s>0&&(n.hour=r,n.min=c,n.sec=l),s<=0&&r>0&&(n.hour=r,n.min=c,n.sec=l),s<=0&&r<=0&&(n.min=c,n.sec=l)}return n},initData:function(){var t=this;t.pro_list=config.products.entries,t.listloading=!1,t.tab_num=0},getBefore:function(){var t=this;t.isPage?t.pagerloading=!0:t.listloading=!0},getprolist:function(t){var e=this;e.pro_list={},e.nodata=!1;var n="";t=t||"",n="?code="+t,e._code=t,n=config.auction_url+n,e.pager_url=n,tools.ajaxGet(n,e.getSucc,e.getBefore)},getSucc:function(t){var e=this;e.pro_list=t.data.entries,e.pager=t.data.pager,e.code=e._code,e.listloading=!1},nextPage:function(){var t=this;if(t.preventRepeatReuqest=!0,t.pager.next>0){var e=t.pager_url+"&page="+t.pager.next;e!==t.last_url&&(t.last_url=e,t.isPage=!0,tools.ajaxGet(e,t.pageSucc,t.getBefore))}else t.isLastPage=!0},pageSucc:function(t){var e=this;e.pager=t.data.pager,e.pro_list=e.pro_list.concat(t.data.entries),e.preventRepeatReuqest=!1,e.listloading=!1,e.pagerloading=!1,e.isPage=!1},end:function(){console.log("end")}}}).$mount("#auction");