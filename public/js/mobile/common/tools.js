"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function base64_encode(e){var t=0,n=[],i=0,o=0;if(e.length>0)for(;o<e.length;){var r=e.charCodeAt(o++);switch(++t){case 1:n.push(tab[r>>2]),i=3&r,o>=e.length&&(n.push(tab[i<<4]),n.push("=="));break;case 2:n.push(tab[r>>4|i<<4]),i=15&r,o>=e.length&&(n.push(tab[i<<2]),n.push("="));break;case 3:n.push(tab[r>>6|i<<2]),n.push(tab[63&r]),i=0,t=0}}return n.join("")}function EventTarget(){this.handlers={}}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),tools={animate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ease-out",o=arguments[4];clearInterval(e.timer),n instanceof Function?(o=n,n=400):n instanceof String&&(i=n,n=400),i instanceof Function&&(o=i,i="ease-out");var r=function(t){return"opacity"===t?Math.round(100*tools.getStyle(e,t,"float")):tools.getStyle(e,t)},s=parseFloat(document.documentElement.style.fontSize),a={},c={};Object.keys(t).forEach(function(e){/[^\d^\.]+/gi.test(t[e])?a[e]=t[e].match(/[^\d^\.]+/gi)[0]||"px":a[e]="px",c[e]=r(e)}),Object.keys(t).forEach(function(e){"rem"==a[e]?t[e]=Math.ceil(parseInt(t[e])*s):t[e]=parseInt(t[e])});var l=!0,d={};e.timer=setInterval(function(){Object.keys(t).forEach(function(s){var a,u=0,h=!1,v=r(s)||0,f=0;switch(i){case"ease-out":f=v,a=5*n/400;break;case"linear":f=c[s],a=20*n/400;break;case"ease-in":u=(d[s]||0)+(t[s]-c[s])/n,d[s]=u;break;default:f=v,a=5*n/400}switch("ease-in"!==i&&(u=(t[s]-f)/a,u=u>0?Math.ceil(u):Math.floor(u)),i){case"ease-out":h=v!=t[s];break;case"linear":case"ease-in":h=Math.abs(Math.abs(v)-Math.abs(t[s]))>Math.abs(u);break;default:h=v!=t[s]}h?(l=!1,"opacity"===s?(e.style.filter="alpha(opacity:"+(v+u)+")",e.style.opacity=(v+u)/100):"scrollTop"===s?e.scrollTop=v+u:e.style[s]=v+u+"px"):l=!0,l&&(clearInterval(e.timer),o&&o())})},20)},showBack:function(e){var t,n;document.addEventListener("scroll",function(){o()},!1),document.addEventListener("touchstart",function(){o()},{passive:!0}),document.addEventListener("touchmove",function(){o()},{passive:!0}),document.addEventListener("touchend",function(){n=document.body.scrollTop,i()},{passive:!0});var i=function e(){t=requestAnimationFrame(function(){document.body.scrollTop!=n?(n=document.body.scrollTop,e()):cancelAnimationFrame(t),o()})},o=function(){e(document.body.scrollTop>500?!0:!1)}},loadMore:function(e,t){var n,i,o,r,s,a,c=window.screen.height;document.body.addEventListener("scroll",function(){d()},!1),e.addEventListener("touchstart",function(){n=e.offsetHeight,i=e.offsetTop,o=tools.getStyle(e,"paddingBottom"),r=tools.getStyle(e,"marginBottom")},{passive:!0}),e.addEventListener("touchmove",function(){d()},{passive:!0}),e.addEventListener("touchend",function(){a=document.body.scrollTop,l()},{passive:!0});var l=function t(){s=requestAnimationFrame(function(){document.body.scrollTop!=a?(a=document.body.scrollTop,d(),t()):(cancelAnimationFrame(s),n=e.offsetHeight,d())})},d=function(){document.body.scrollTop+c>=n+i+o+r&&t()}},getStyle:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"int";return n="scrollTop"===t?e.scrollTop:e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null)[t],"float"==i?parseFloat(n):parseInt(n)},getUrlKey:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},ajaxGet:function(e,t,n){jAjax({type:"get",url:e,timeOut:5e3,before:function(){n&&n()},success:function(e){e&&(e=JSON.parse(e),200==parseInt(e.code)?t(e):console.log("false"))},error:function(){console.log("error")}})}};EventTarget.prototype={constructor:EventTarget,addEvent:function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t)},fireEvent:function(e){if(e.target||(e.target=this),this.handlers[e.type]instanceof Array)for(var t=this.handlers[e.type],n=0;n<t.length;n++)t[n](e)},removeEvent:function(e,t){if(this.handlers[e]instanceof Array){for(var n=this.handlers[e],i=0;i<n.length&&n[i]!=t;i++);n.splice(i,1)}}};var def_target=new EventTarget,_util={debounce:function(e,t){var n=this,i=arguments,o=void 0;return function(){clearTimeout(o),o=setTimeout(function(){e.apply(n,i)},t)}},getPicInfo:function(e){var t=e.src||"",n=e.fastCallback,i=e.loadedCallback,o=e.errorCallback,r=new Image,s={isError:!1,width:0,height:0},a=function(){(s.isError||r.width>0||r.height>0)&&(clearInterval(c),s.width=r.width,s.height=r.height,n&&n(s))},c=void 0;r.src=t,r.addEventListener("error",function(e){s.isError=!0,o&&o(s)},!1),r.complete?(s.width=r.width,s.height=r.height,n&&n(s),i&&i(s)):(r.addEventListener("load",function(){s.width=r.width,s.height=r.height,i&&i(s)},!1),c=setInterval(a,50))}},VueViewload=function(){function e(t){_classCallCheck(this,e),this.emptyPic="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",this.defaultPic=t&&t.defaultPic||this.emptyPic,this.errorPic=t&&t.errorPic||this.emptyPic,this.container=t&&t.container||window,this.threshold=t&&parseInt(t.threshold,10)||0,this.effectFadeIn=t&&t.effectFadeIn||!1,this.callback=t&&t.callback||new Function,this.selector=t&&t.selector||[],this.event=["scroll","resize"],this.status=["loading","loaded","error"],this.delayRender=_util.debounce(this.render.bind(this),200)}return _createClass(e,[{key:"inView",value:function(e){var t=!1,n=e.getBoundingClientRect(),i=this.container==window?{left:0,top:0}:this.container.getBoundingClientRect(),o=this.container==window?window.innerWidth:this.container.clientWidth,r=this.container==window?window.innerHeight:this.container.clientHeight;return n.bottom>this.threshold+i.top&&n.top+this.threshold<r+i.top&&n.right>this.threshold+i.left&&n.left+this.threshold<o+i.left&&(t=!0),t}},{key:"bindUI",value:function(){var e=this;this.event.forEach(function(t,n){e.container.addEventListener(t,e.delayRender,!1),e.container!==window&&"resize"==t&&window.addEventListener(t,e.delayRender,!1)}),def_target.addEvent("slide",this.delayRender)}},{key:"unbindUI",value:function(){var e=this;this.event.forEach(function(t,n){e.container.removeEventListener(t,e.delayRender,!1),e.container!==window&&"resize"==t&&window.removeEventListener(t,e.delayRender,!1)}),def_target.removeEvent("slide",this.delayRender)}},{key:"render",value:function(){var e=this;this.isLoadEvent||(this.isLoadEvent=!0,this.bindUI()),this.selector.length||this.unbindUI();for(var t=0;t<this.selector.length;t++){(function(n){var i=e.selector[n],o=i.ele.nodeName.toLowerCase();if("none"==getComputedStyle(i.ele,null).display)return e.selector.splice(n--,1),"continue";"img"==o&&(i.ele.getAttribute("data-src")||(i.ele.setAttribute("data-src",i.src),i.ele.setAttribute("data-status",e.status[0])),i.ele.getAttribute("src")||i.ele.setAttribute("src",e.defaultPic)),e.inView(i.ele)&&("img"==o?(_util.getPicInfo({src:i.src,errorCallback:function(t){i.ele.src=e.errorPic,i.ele.setAttribute("data-status",e.status[2])},loadedCallback:function(t){e.effectFadeIn&&(i.ele.style.opacity=0),i.ele.src=t.isError?e.errorPic:i.src,i.ele.removeAttribute("data-src"),i.ele.setAttribute("data-status",e.status[1]),setTimeout(function(){i.ele.style.opacity=1,i.ele.style.transition="all 1s"},50)}}),e.callback(i.ele,i.src)):"function"==typeof i.src&&i.src.call(i.ele),e.selector.splice(n--,1)),t=n})(t)}}}]),e}();Vue.directive("view",{inserted:function(e,t){var n={},i={threshold:-50},o=void 0,r=void 0==t.arg?"window":t.arg;void 0==n[r]&&(n[r]=[]),n[r].push({ele:e,src:t.value}),Vue.nextTick(function(){void 0===o&&(o=_util.debounce(function(){for(var e in n)i.container="window"==e?window:document.getElementById(e),i.selector=n[e],new VueViewload(i).render()},200)),o()})},bind:function(e,t){var n={},i={threshold:-50},o=void 0,r=void 0==t.arg?"window":t.arg;void 0==n[r]&&(n[r]=[]),n[r].push({ele:e,src:t.value}),Vue.nextTick(function(){void 0===o&&(o=_util.debounce(function(){for(var e in n)i.container="window"==e?window:document.getElementById(e),i.selector=n[e],new VueViewload(i).render()},200)),o()})},update:function(e,t){var n={},i={threshold:-50},o=void 0,r=void 0==t.arg?"window":t.arg;void 0==n[r]&&(n[r]=[]),n[r].push({ele:e,src:t.value}),Vue.nextTick(function(){void 0===o&&(o=_util.debounce(function(){for(var e in n)i.container="window"==e?window:document.getElementById(e),i.selector=n[e],new VueViewload(i).render()},200)),o()})},componentUpdated:function(e,t){var n={},i={threshold:-50},o=void 0,r=void 0==t.arg?"window":t.arg;void 0==n[r]&&(n[r]=[]),n[r].push({ele:e,src:t.value}),Vue.nextTick(function(){void 0===o&&(o=_util.debounce(function(){for(var e in n)i.container="window"==e?window:document.getElementById(e),i.selector=n[e],new VueViewload(i).render()},200)),o()})}});var photo_html='<div class="photogallery-container"><transition appear name="v-img-fade"><div v-if="!closed" class="fullscreen-v-img" @click.self="close()"><div class="header-v-img"><span v-if="images.length > 1" class="count-v-img">{{ currentImageIndex + 1 }}/{{ images.length }}</span><span class="close-v-img" @click="close">&times;</span></div><transition appear name="v-img-fade"><span v-if="visibleUI && images.length !== 1" class="prev-v-img" @click="prev"><svg width="25" height="25" viewBox="0 0 1792 1915" xmlns="http://www.w3.org/2000/svg"><path d="M1664 896v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z" fill="#fff"/></svg></span></transition><transition appear name="v-img-fade"><span v-if="visibleUI && images.length !== 1" class="next-v-img" @click="next"><svg width="25" height="25" viewBox="0 0 1792 1915" xmlns="http://www.w3.org/2000/svg"><path d="M1600 960q0 54-37 91l-651 651q-39 37-91 37-51 0-90-37l-75-75q-38-38-38-91t38-91l293-293h-704q-52 0-84.5-37.5t-32.5-90.5v-128q0-53 32.5-90.5t84.5-37.5h704l-293-294q-38-36-38-90t38-90l75-75q38-38 90-38 53 0 91 38l651 651q37 35 37 90z" fill="#fff"/></svg></span></transition><div class="content-v-img"><img :src="images[currentImageIndex]" id="img-slide"></div></div></transition></div>',imgscreen=Vue.extend({template:photo_html,data:function(){return{images:[],visibleUI:!0,currentImageIndex:0,closed:!0,uiTimeout:null}},methods:{close:function(){document.querySelector("body").classList.remove("body-fs-v-img"),this.images=[],this.currentImageIndex=0,this.closed=!0},next:function(){this.currentImageIndex+1<this.images.length?this.currentImageIndex++:this.currentImageIndex=0},prev:function(){this.currentImageIndex>0?this.currentImageIndex--:this.currentImageIndex=this.images.length-1},showUI:function(){var e=this;clearTimeout(this.uiTimeout),this.visibleUI=!0,this.uiTimeout=setTimeout(function(){e.visibleUI=!1},3500)}},created:function(){var e=this,t=this;window.addEventListener("scroll",function(){e.close()}),window.addEventListener("mousemove",function(){e.showUI()});var n=document.querySelector("body"),i=new Hammer(n);i.on("swipeleft",function(e){t.next()}),i.on("swiperight",function(e){t.prev()})}});Vue.directive("img",{bind:function(e,t){var n="pointer",i="",o=t.arg||null;void 0!==t.value&&(n=t.value.cursor||n,i=t.value.exsrc,o=t.value.group||o),e.setAttribute("data-vue-img-group",o||null),t.value&&t.value.exsrc&&e.setAttribute("data-vue-img-src",t.value.exsrc),i||console.error("v-img element missing src parameter."),e.style.cursor=n;var r=document.vueImg;if(!r){var s=document.createElement("div");s.setAttribute("id","imageScreen"),document.querySelector("body").appendChild(s),r=document.vueImg=(new imgscreen).$mount("#imageScreen")}e.addEventListener("click",function(){document.querySelector("body").classList.add("body-fs-v-img");var t=[].concat(_toConsumableArray(document.querySelectorAll('img[data-vue-img-group="'+o+'"]')));0==t.length?Vue.set(r,"images",[i]):(Vue.set(r,"images",t.map(function(e,t,n){return e.dataset.vueImgSrc||e.src})),Vue.set(r,"currentImageIndex",t.indexOf(e))),Vue.set(r,"closed",!1)})}});var pop_html='<div class="alet_container"><section class="tip_text_container"><div class="tip_text">{{ msg }}</div></section></div>';Vue.component("pop",{template:pop_html,data:function(){return{positionY:0,timer:null}},props:["msg"],methods:{close:function(){this.$emit("close")}}});var confirm_html='<div class="confirm-container"><section class="inner"><div class="confirm-text">{{ msg }}</div><div class="confirm-btn"><a href="javascript:;" class="cancel" @click="no()">取消</a><a href="javascript:;" class="ok" @click="ok()">确定</a></div></section></div>';Vue.component("confirm",{template:confirm_html,data:function(){return{positionY:0,timer:null}},props:["msg","callback","obj"],methods:{no:function(){this.$emit("no")},ok:function(){this.$emit("ok",this.callback,this.obj)}}});var post_html='<span class="post-container"><span class="post-inner" v-if="postProcess">{{ txt }}...</span><span class="post-inner" @click="sub()" v-else>{{ txt }}</span></span>';Vue.component("subpost",{template:post_html,props:{txt:{type:String,default:""}},data:function(){return{postProcess:!1}},mounted:function(){},methods:{sub:function(){this.$emit("callback")},post:function(e,t){var n=this;jAjax({type:"post",url:e,data:t,timeOut:5e3,before:function(){n.postProcess=!0},success:function(e){e&&(e=JSON.parse(e),parseInt(e.code),n.$emit("succhandle",e)),n.postProcess=!1},error:function(e,t){n.postProcess=!1}})}}});var nodata_html='<div class="noData"><div class="inner"><img src="../../../img/mobile/no_data.png"><span class="no">当前没有相关数据哟~</span></div></div>';Vue.component("no-data",{template:nodata_html,data:function(){return{}},mounted:function(){},methods:{}});