"use strict";var app=new Vue({computed:{},mounted:function(){this.initData()},data:{showAlert:!1,msg:null,commissionlist:[],pager:{},status:0,tabs:["等待结算","结算成功"],tab_num:0,preventRepeatReuqest:!1,last_url:"",listloading:!0,nodata:!1},watch:{commissionlist:function(t,s){this.listloading||(this.commissionlist&&this.commissionlist.length>0?this.nodata=!1:this.nodata=!0)}},methods:{initData:function(){var t=this;t.commissionlist=config.commissionlist.entries,t.pager=config.commissionlist.pager,t.listloading=!1},getBefore:function(){this.listloading=!0},category:function(t){var s=this;s.nodata=!1,s.preventRepeatReuqest=!1,s.tab_num=t,s.status=0==t?0:2,s.commissionlist=[],s.nodata=!1;var i=config.commissionUrl+"?status="+s.status;tools.ajaxGet(i,s.cateSucc,s.getBefore)},cateSucc:function(t){var s=this;s.commissionlist=[],s.commissionlist=t.data.entries,s.pager=t.data.pager,s.listloading=!1},nextPage:function(){var t=this;if(t.preventRepeatReuqest=!0,t.pager.next>0){var s=config.commissionUrl+"?status="+t.status+"&page="+t.pager.next;s!==t.last_url&&(t.last_url=s,tools.ajaxGet(s,t.pageSucc,t.getBefore))}},pageSucc:function(t){var s=this;s.pager=t.data.pager,s.commissionlist=t.data.entries.concat(s.commissionlist),s.preventRepeatReuqest=!1,s.listloading=!1},close:function(){this.showAlert=!1},close_auto:function(t,s){var i=this;setTimeout(function(){i.showAlert=!1,t&&t(s)},1500)},linkto:function(t){t&&(location.href=t)}}}).$mount("#commission");