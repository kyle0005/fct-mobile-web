"use strict";var app=new Vue({computed:{},mounted:function(){},data:{showAlert:!1,msg:null,product:config.product,description:"",uploadItem:[],subUpload:[],maxNum:3,servicetype:1,reason:""},watch:{},methods:{delImg:function(o){var t=this;t.uploadItem.splice(o,1),t.subUpload.splice(o,1)},postSuc:function(o){},uploadSuc:function(o){var t=this;t.uploadItem.push(o.data.fullUrl),t.subUpload.push(o.data.url)},postTip:function(o){var t=this;t.msg=o.message,t.showAlert=!0,t.close_auto()},postBefore:function(){},postError:function(){},fileChange:function(o){var t=this,e={};e=void 0===o.target?o[0]:o.target.files[0],"image/png"!==e.type&&"image/jpeg"!==e.type&&"image/jpg"!==e.type?(t.msg="文件格式不正确",t.showAlert=!0,t.close_auto()):tools.imgCompress(e,t.upload)},upload:function(o,t){var e=this,s=new FormData;s.append("action","images"),s.append("file",o,t),tools.ajaxPost(config.uploadFileUrl,s,e.uploadSuc,e.postBefore,e.postError,{},e.postTip,!1)},sub:function(){var o=this,t=config.returnUrl,e={order_id:o.product.orderId,order_product_id:o.product.id,service_type:o.servicetype,reason:o.reason,description:o.description,images:JSON.stringify(o.subUpload)};o.$refs.subpost.post(t,e)},succhandle:function(o){var t=this;t.msg=o.message,t.showAlert=!0,o.url?t.close_auto(t.linkto,o.url):t.close_auto()},close:function(){this.showAlert=!1},close_auto:function(o,t){var e=this;setTimeout(function(){e.showAlert=!1,o&&o(t)},1500)},linkto:function(o){o&&(location.href=o)}}}).$mount("#orderreturn");